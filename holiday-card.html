<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Illinois HR Holiday Card</title> 

<!-- Illinois fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root{--illini-orange:#E84A27;--illini-navy:#13294B;--paper:#fffaf4;--ink:#0f172a}
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    background:linear-gradient(180deg,#0a1020 0%,#0b1530 60%,#0a1020 100%);
    color:#e6edf6;
    font-family:'Source Sans Pro',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    overflow-x:hidden;
  }

  .wrap{position:relative;z-index:1;max-width:1400px;margin:0 auto;padding:32px}
  .stage{position:relative;border:1px solid rgba(255,255,255,.08);border-radius:24px;overflow:hidden;background:radial-gradient(ellipse at top,rgba(255,255,255,.06),transparent 65%),radial-gradient(ellipse at bottom,rgba(255,255,255,.05),transparent 60%)}
  .board{min-height:1100px;display:grid;place-items:center;padding:32px}

  /* Responsive scaling wrapper */
  .responsive-wrap{
    width:100%;
    display:flex;
    justify-content:center;
    transform-origin:top center;
    transform:scale(1);
  }

  @media (max-width:1100px){
    .responsive-wrap{transform:scale(0.85);}
  }
  @media (max-width:900px){
    .responsive-wrap{transform:scale(0.7);}
  }
  @media (max-width:650px){
    .responsive-wrap{transform:scale(0.55);}
  }
  @media (max-width:480px){
    .responsive-wrap{transform:scale(0.45);}
  }

  /* Snow BG */
  #bg-snow{position:fixed;inset:0;pointer-events:none;opacity:.9;z-index:0}

  /* ENVELOPE */
  .envelope-scene{position:relative;width:860px;height:540px;perspective:220px}
  .envelope{
    position:absolute;inset:0;transform-style:preserve-3d;cursor:pointer;z-index:3;
    filter:drop-shadow(0 24px 80px rgba(0,0,0,.55));
    animation:flyIn 1.05s cubic-bezier(.22,.95,.18,1) both,sway 3.2s ease-in-out 1.05s infinite;
  }
  @keyframes flyIn{
    0%{transform:translate(-70vw,-40vh) rotate(-10deg) rotateY(-16deg) scale(.98);opacity:0}
    55%{transform:translate(7vw,-6vh) rotate(7deg) rotateY(8deg);opacity:1}
    100%{transform:translate(0,0) rotate(0)}
  }
  @keyframes sway{0%{transform:translateX(0)}50%{transform:translateX(10px)}100%{transform:translateX(0)}}

  .mail-body{
    position:absolute;left:26px;right:26px;top:26px;bottom:26px;border-radius:16px;z-index:1;overflow:hidden;
    background:
      radial-gradient(ellipse at 30% 20%, rgba(0,0,0,.05), transparent 60%),
      repeating-linear-gradient(0deg, rgba(0,0,0,.018), rgba(0,0,0,.018) 2px, transparent 2px, transparent 4px),
      #fff;
    box-shadow:
      inset 0 0 0 2px rgba(0,0,0,.10),
      inset 0 20px 40px rgba(0,0,0,.06),
      0 12px 30px rgba(0,0,0,.25);
  }

  .lid{
    position:absolute; left:36px; right:36px; top:160px;
    height:0; z-index:0; pointer-events:none;
    --lid-open-offset-x: 0px;
    --lid-open-offset-y: -260px;
    --lid-open-offset-z: 0px;
    --lid-open-rotate:   0deg;
  }
  .lid::before{
    content:"";
    position:absolute; left:0; right:0; top:0; margin:auto;
    width:0; height:0;
    border-left:320px solid transparent;
    border-right:320px solid transparent;
    border-bottom:125px solid #fff;
    transform-origin: 50% 0%;
    backface-visibility: visible;
    transform: rotateX(180deg);
    transition: transform .6s cubic-bezier(.22,.9,.18,1);
    filter: drop-shadow(0 8px 0 rgba(0,0,0,.12));
  }
  .lid-open::before{
    transform:
      rotateX(0deg) rotate(var(--lid-open-rotate))
      translateX(var(--lid-open-offset-x))
      translateY(var(--lid-open-offset-y))
      translateZ(var(--lid-open-offset-z));
  }

  .face { position:absolute; left:60px; right:60px; top:62px; bottom:62px; z-index:3; color:var(--illini-navy); pointer-events:none }
  .from{font-size:18px;opacity:.95}
  .to{position:absolute;left:50%;top:48%;transform:translate(-50%,-50%);font-weight:800;font-size:36px;letter-spacing:.04em;font-family:'Montserrat',sans-serif}
  .stamp{
    position:absolute;right:0;top:-10px;width:110px;height:130px;border-radius:10px;background:#fff;
    box-shadow:inset 0 0 0 2px rgba(0,0,0,.12),0 6px 14px rgba(0,0,0,.18);display:grid;place-items:center;padding:10px}
  .stamp svg{width:100%;height:100%}
  .stamp .bg{fill:#0f1b35}
  .stamp .ring{fill:var(--illini-navy)}
  .stamp .flake{stroke:#ffffff;stroke-width:3;stroke-linecap:round}

  /* CARD (made a tiny bit taller) */
  .scene{
    position:absolute; top:0; left:0;
    width:820px; height:560px; /* was 520 */
    perspective:1400px;
    z-index:1; pointer-events:none; opacity:0;
    transform:translateY(150px) scale(1);
  }
  .panel3d{position:absolute;inset:0;border-radius:20px;box-shadow:0 16px 60px rgba(0,0,0,.45),0 0 0 1px rgba(0,0,0,.25);transform-style:preserve-3d;backface-visibility:hidden}
  .inside{z-index:1;background:var(--paper);color:var(--ink);border:3px solid var(--illini-orange);cursor:pointer}
  .cover-right{z-index:2;background:var(--illini-orange);color:#fff;border:3px solid var(--illini-orange);transform-origin:left;transition:transform .9s cubic-bezier(.22,.61,.36,1);cursor:pointer}
  .open .cover-right{transform:rotateY(-180deg)}
  .cover-left{z-index:0;transform-origin:right;background:var(--illini-navy);border:3px solid var(--illini-navy);pointer-events:none}

  .inside-grid{display:grid;grid-template-columns:1fr 1fr;height:100%;border-radius:20px;overflow:hidden}
  .inside-left{padding:28px 32px;display:flex;flex-direction:column;justify-content:space-between}
  .title{
    font-family:'Montserrat',sans-serif;
    font-size:34px;font-weight:800;letter-spacing:.2px;color:var(--illini-orange)
  }
  .msg{margin-top:12px;line-height:1.55;font-size:18px;white-space:pre-wrap}
  .sig{
    padding-top:14px;text-align:right;font-weight:700;font-size:18px;font-family:'Montserrat',sans-serif
  }

  /* Keep the globe at the very top (top-right) */
  .inside-right{
    display:flex;
    justify-content:flex-end;
    align-items:flex-start;
    padding:10px 16px 0 10px;
  }
  .inside-right img{
    align-self:flex-start;
    max-width:94%;
    height:auto;
    margin-top:0;
    border-radius:12px;
    box-shadow:0 12px 28px rgba(0,0,0,.25)
  }

  /* Greeting on front */
  .greet{
    font-family:'Montserrat',sans-serif;
    font-size:40px;font-weight:800;margin-top:12px;opacity:0;transform:translateY(8px)
  }
  .greet-in{animation:gin .55s ease .15s forwards}
  @keyframes gin{to{opacity:1;transform:none}}

  /* Adjust rise distance slightly to match taller card */
  .rise-behind{ animation:riseBehind 700ms cubic-bezier(.2,.8,.2,1) forwards; opacity:1; }
  @keyframes riseBehind{
    0%   { transform:translateY(150px) scale(1); opacity:.0 }
    20%  { opacity:1 }
    100% { transform:translateY(-340px) scale(1); }
  }
  .settle-front{ animation:settleFront 600ms cubic-bezier(.18,.7,.2,1) forwards; }
  @keyframes settleFront{
    0%   { transform:translateY(-340px) }
    70%  { transform:translateY(-8px) }
    100% { transform:translateY(0) }
  }

  .on-top{ z-index:6; pointer-events:auto; opacity:1; }

  /* Front cover logo styles */
  .cover-content{display:grid;place-items:center;height:100%;text-align:center;padding:24px}
  .ihr-logo{max-width:62%;height:auto;display:block;filter:drop-shadow(0 6px 16px rgba(0,0,0,.25))}
  .open-hint{font-size:14px;opacity:.9;margin-top:10px}
</style>
</head>
<body>
<canvas id="bg-snow" aria-hidden="true"></canvas>

<div class="wrap">
  <div class="stage">
    <div class="board">
      <div class="responsive-wrap">
        <div class="envelope-scene" role="group" aria-label="Envelope and card">
          <!-- ENVELOPE -->
          <div class="envelope" id="envelope" aria-label="Click to Open envelope">
            <div class="mail-body"></div>
            <div class="lid" id="lid"></div>
            <div class="face">
              <div class="from">From: Illinois Human Resources</div>
              <div class="to">To: Our Campus Community</div>
              <div class="stamp" aria-hidden="true">
                <svg viewBox="0 0 72 90" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Snowflake stamp">
                  <rect x="2" y="2" width="68" height="86" rx="6" class="ring"/>
                  <rect x="6" y="6" width="60" height="78" rx="4" class="bg"/>
                  <circle cx="36" cy="40" r="22" fill="#ffffff" opacity=".12"/>
                  <path class="flake" d="M36 22 v36 M24 34 h24 M28 28 l16 16 M44 28 l-16 16" />
                </svg>
              </div>
            </div>
            <div class="cta-text" id="miniNote">Click to Open envelope</div>
          </div>

          <!-- CARD -->
          <div id="cardScene" class="scene" role="group" aria-label="Holiday card">
            <div class="panel3d inside" id="inside">
              <div class="inside-grid">
                <div class="inside-left">
                  <div>
                    <div class="title">Season’s Greetings from Illinois Human Resources.</div>
                    <div class="msg">As the year winds down, we want to thank our campus colleagues for the work you do every day to support the University of Illinois community. Your dedication, service, and collaboration make this place stronger.

Wishing you a restful season, moments that recharge you, and a bright start to the new year.

Thank you for all you do at Illinois.
Illinois Human Resources</div>
                  </div>
                  <div class="sig">Illinois Human Resources</div>
                </div>
                <div class="inside-right">
                  <img id="globe" alt="Illinois snowglobe" src="https://humanresources.illinois.edu/wp-content/uploads/2025/09/SnowGlobe.png"/>
                </div>
              </div>
            </div>

            <!-- FRONT COVER -->
            <div class="panel3d cover-right" id="coverR" aria-label="Card front cover">
              <div class="cover-content">
                <img
                  class="ihr-logo"
                  src="https://humanresources.illinois.edu/wp-content/uploads/2025/11/IHR_Formal_Blue_RGB_Illinois-Human-Resources-Full-Color.png"
                  alt="Illinois Human Resources logo on the card cover"
                />
                <div class="greet" id="greetTitle">Season’s Greetings</div>
                <div class="open-hint">click to open</div>
              </div>
            </div>

            <div class="panel3d cover-left" id="coverL"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  /* Snow BG */
  const bg=document.getElementById('bg-snow'); const bctx=bg.getContext('2d'); let flakes=[];
  function resizeBg(){
    bg.width=innerWidth; bg.height=innerHeight;
    const n=Math.max(200,Math.round(bg.width*bg.height/10000));
    flakes=Array.from({length:n},()=>({
      x:Math.random()*bg.width,
      y:Math.random()*bg.height,
      r:Math.random()*2.2+1.2,
      s:Math.random()*.8+.3,
      o:Math.random()*.5+.35
    }))
  }
  function loopBg(){
    bctx.clearRect(0,0,bg.width,bg.height);
    bctx.fillStyle='#fff';
    for(const f of flakes){
      bctx.globalAlpha=f.o;
      bctx.beginPath();
      bctx.arc(f.x,f.y,f.r,0,Math.PI*2);
      bctx.fill();
      f.y+=f.s+.28;
      f.x+=Math.sin(f.y*0.015)*0.5;
      if(f.y>bg.height+10){
        f.y=-12;
        f.x=Math.random()*bg.width;
      }
    }
    bctx.globalAlpha=1;
    requestAnimationFrame(loopBg);
  }
  addEventListener('resize',resizeBg);
  resizeBg();
  requestAnimationFrame(loopBg);

  /* Elements */
  const env=document.getElementById('envelope');
  const lid=document.getElementById('lid');
  const note=document.getElementById('miniNote');
  const cardScene=document.getElementById('cardScene');
  const coverR=document.getElementById('coverR');
  const inside=document.getElementById('inside');
  const greet=document.getElementById('greetTitle');

  let step=0; // 0 closed, 1 lid open, 2 settled in front

  function riseFromBehind(){
    cardScene.classList.remove('on-top','settle-front');
    cardScene.classList.add('rise-behind');
    greet.classList.add('greet-in');
    env.style.animationPlayState='paused';

    cardScene.addEventListener('animationend', function phaseAEnd(e){
      if(e.animationName!=='riseBehind') return;
      cardScene.removeEventListener('animationend', phaseAEnd);

      cardScene.classList.add('on-top');

      void cardScene.offsetWidth;
      cardScene.classList.add('settle-front');

      cardScene.addEventListener('animationend', function phaseBEnd(ev){
        if(ev.animationName!=='settleFront') return;
        cardScene.removeEventListener('animationend', phaseBEnd);
        env.style.animationPlayState='running';
        step=2;
      }, { once:true });
    }, { once:true });
  }

  env.addEventListener('click', ()=>{
    if(step===0){
      lid.classList.add('lid-open');
      note.textContent='Click to show card';
      step=1;
      return;
    }
    if(step===1){
      riseFromBehind();
      return;
    }
  });

  function toggleCard(){
    if(!cardScene.classList.contains('on-top')) return;
    cardScene.classList.toggle('open');
  }
  coverR.addEventListener('click', toggleCard);
  inside.addEventListener('click', toggleCard);
})();
</script>
</body>
</html>
